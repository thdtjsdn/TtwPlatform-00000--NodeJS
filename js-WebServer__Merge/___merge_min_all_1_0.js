global.b2link=global.apis=global.apis||{};global.b2link.STATIC=global.b2link.STATIC||{};global.b2link.STATIC.CONFIG=global.b2link.STATIC.CONFIG||{},global.TtwLog.timeStamp("--------------------------------------------------[ S ] - global.b2link.STATIC.CONFIG.URL"),global.b2link.STATIC.CONFIG.URL=global.b2link.STATIC.CONFIG.URL||{},global.b2link.STATIC.CONFIG.URL.JS_B2LINK="./js/b2link/",global.b2link.STATIC.CONFIG.URL.PROXY="./ttwP/",global.b2link.STATIC.CONFIG.URL.SCODE="",global.TtwLog.timeStamp("--------------------------------------------------[ E ] - global.b2link.STATIC.CONFIG.URL");global.b2link.STATIC.CONST=global.b2link.STATIC.CONST||{},function(){global.b2link.STATIC.CONST.SCODES=global.b2link.STATIC.CONST.SCODES||{};var S=global.b2link.STATIC.CONST.SCODES;S.__defineGetter__("SESSION_SERVER",function(){return"SYS0010"}),S.__defineGetter__("B2KER",function(){return"SYS0020"}),S.__defineGetter__("BRAND_PORTAL",function(){return"SYS0030"}),S.__defineGetter__("FILE_SERVER",function(){return"SYS0040"}),S.__defineGetter__("WEB_HOOK_SERVER",function(){return"SYS0050"}),S.__defineGetter__("WEB_SOCKET_MESSAGE_SERVER",function(){return"SYS0060"}),S.__defineGetter__("EXCEL_SERVER",function(){return"SYS0070"}),S.__defineGetter__("WEB_SOCKET_APP_COMMUNICATION_SERVER",function(){return"SYS0080"})}();global.b2link.STATIC.REGEXP=global.b2link.STATIC.REGEXP||{},global.b2link.STATIC.REGEXP.MATCH=global.b2link.STATIC.REGEXP.MATCH||{},global.b2link.STATIC.REGEXP.MATCH.URI_HTTP0=/^http[s]*:\/\//,global.b2link.STATIC.REGEXP.MATCH.URL=/(http[s]?:\/\/)?([^\/\s]+\/)([^?#]*)/,global.b2link.STATIC.REGEXP.REPLACE=global.b2link.STATIC.REGEXP.REPLACE||{},global.b2link.STATIC.REGEXP.REPLACE.MONEY_COMMA1=/\B(?=(\d{3})+(?!\d))/g,global.b2link.STATIC.REGEXP.REPLACE.MONEY_COMMA2=/[^\d]+/g;global.b2link.array=global.b2link.array||{};global.b2link.common=global.b2link.common||{},global.b2link.common.clearInterval=function(e){return"number"==typeof e?global.clearInterval(e):"object"==typeof e&&e.close(),e},global.b2link.common.clearInterval_dispatchEvent=function(e,l){return"number"==typeof e?global.clearInterval(e):"object"==typeof e&&e.close(),global.b2link.event.dispatchCustomEvent(l,global.b2link.event.INTERVAL_END,e),e},global.b2link.common.clearTimeout=function(e){return"number"==typeof e?global.clearTimeout(e):"object"==typeof e&&e.close(),e},global.b2link.common.clearTimeout_dispatchEvent=function(e,l){return"number"==typeof e?global.clearTimeout(e):"object"==typeof e&&e.close(),global.b2link.event.dispatchCustomEvent(l,global.b2link.event.TIMEOUT_END,e),e},global.b2link.common.setInterval=function(e,l){return setInterval(e,l)},global.b2link.common.setInterval_dispatchEvent=function(e,l,n){var t=setInterval(e,l);return global.b2link.event.dispatchCustomEvent(n,global.b2link.event.INTERVAL_START,t),t},global.b2link.common.setTimeout=function(e,l){return setTimeout(e,l)},global.b2link.common.setTimeout_dispatchEvent=function(e,l,n){var t=setTimeout(e,l);return global.b2link.event.dispatchCustomEvent(n,global.b2link.event.TIMEOUT_START,t),t};global.b2link.compressCSS=global.b2link.compressCSS||{};global.b2link.compressHTML=global.b2link.compressHTML||{};global.b2link.compressJS=global.b2link.compressJS||{},global.Lib.Ttw.autoLoad_JS||(global.Lib.Ttw.autoLoad_JS=new global.Lib.Ttw.CLASS.AutoLoad_JS({instanceKey:"global.Lib.Ttw.autoLoad_JS"})),global.b2link.compressJS.install=function(){return global.compressJS?void global.TtwLog.warn("Native Module( CompressJS )가 이미 설치 되어 있다."):(global.b2link["import"].native_modules__API("CompressJS.dll","../js-CompressJS/","compressJS"),void(global.compressJS=global.Lib.Ttw.compressor))},global.b2link.compressJS.install._=global.Lib.Ttw.autoLoad_JS,console;global.b2link.compress_zip=global.b2link.compress_zip||{};global.b2link.console=global.b2link.console||{};global.b2link.date=global.b2link.date||{};global.b2link.debug=global.b2link.debug||{};global.b2link.diff=global.b2link.diff||{},global.Lib.Ttw.autoLoad_JS||(global.Lib.Ttw.autoLoad_JS=new global.Lib.Ttw.CLASS.AutoLoad_JS({instanceKey:"global.Lib.Ttw.autoLoad_JS"})),global.b2link.diff.install=function(){return global.differ?void global.TtwLog.warn("Native Module( Diff )가 이미 설치 되어 있다."):void global.b2link["import"].native_modules__API("Diff.dll","../js-Diff/","diff")},global.b2link.diff.install._=global.Lib.Ttw.autoLoad_JS,console;global.b2link.event=global.b2link.event||{},global.b2link.event.dispatchCustomEvent=function(t,n,l){SUtilCustomEvent.dispatchCustomEvent(t,n,l)},global.b2link.event.dispatchEvent=function(t,n){global.TtwLog.info(t),global.TtwLog.info("evtType : "+n),SUtilCustomEvent.dispatchEvent(t,n)};global.b2link.fn=global.b2link.fn||{};global.REQUIRES=global.REQUIRES||{};var _=require("fs");global.REQUIRES.__defineGetter__("fs",function(){return _}),global.b2link.fs=global.b2link.fs||{},global.b2link.fs.autoLoad_JS=function(e,t){global.Lib.Ttw.autoLoad_JS.addJSFiles___Define(e,t),global.Lib.Ttw.autoLoad_JS.addJSFiles_Package(e,t);var l=global.Lib.Ttw.autoLoad_JS.addRouter__JSFiles_Services;for(var i in t)l(e+i+"/")},global.b2link.fs.autoLoad_JSs=function(e){for(var t,l=0,i=e.length;i>l;++l)t=e[l],global.TtwLog.warn(t[0]),global.b2link.fs.autoLoad_JS(t[1],t[2])},!function(){global.REQUIRES=global.REQUIRES||{};var e=require("fs");global.REQUIRES.__defineGetter__("fs",function(){return e}),global.b2link.fs.createDirectories=function(e){return global.REQUIRES.fs.mkdirSync(e,global.b2link.fs.createDirectories.options)},global.b2link.fs.createDirectories.options={recursive:!0}}(),!function(){global.REQUIRES=global.REQUIRES||{};var e=require("fs");global.REQUIRES.__defineGetter__("fs",function(){return e}),global.b2link.fs.createDirectory=function(e){return global.REQUIRES.fs.mkdirSync(e)}}(),!function(){var e={};global.b2link.fs.getDBJS=function(t){return e[t]||(e[t]=STtwUtilFsReadStream.getFile(t).toString("utf8")),global._$TATIC_CONST_DEBUG&&(e[t]=STtwUtilFsReadStream.getFile(t).toString("utf8"),SUtilFsWriteStream.writeFile_UTF8(t.replace(".dbjs",".query"),e[t])),e[t]},global.b2link.fs.getDBJS.clear=function(){e={}}}(),!function(){var e={};global.b2link.fs.getDBJS__require=function(t){var l,i=16,r=10,n=-1,a=-1;if(!e[t]){for(var o=STtwUtilFsReadStream.getFile(t).toString("utf8");n=o.indexOf("<require>global."),-1!=n;)if(a=o.indexOf("</require>"),-1!=a){l=a+r;var b=o.slice(n,l),g=o.slice(n+i,a),f=Lib.Ttw.eval(g);if(!f)return global.TtwLog.error(g+" 경로에 문제가 있음."),new Error(g+" 경로에 문제가 있음.");var s=f.toString();o=o.replace(b,s)}e[t]=o}return global._$TATIC_CONST_DEBUG&&SUtilFsWriteStream.writeFile_UTF8(t.replace(".dbjs",".query"),e[t]),e[t]},global.b2link.fs.getDBJS__require.clear=function(){e={}}}(),!function(){var e={};global.b2link.fs.getDBJSObj=function(t,l,i){if(!e[t]){var r=STtwUtilFsReadStream.getFile(t).toString("utf8"),n=global.mongodb.dbjs.getCRUDStatusFromQuery(r,l,i);e[t]={nm_db:l,nm_col:i,q:r,s:n.replace("_","")}}if(global._$TATIC_CONST_DEBUG){var r=STtwUtilFsReadStream.getFile(t).toString("utf8"),n=global.mongodb.dbjs.getCRUDStatusFromQuery(r,l,i);e[t]={nm_db:l,nm_col:i,q:r,s:n.replace("_","")},SUtilFsWriteStream.writeFile_UTF8(t.replace(".dbjs",".query"),e[t].q)}return e[t]},global.b2link.fs.getDBJSObj.clear=function(){e={}}}(),!function(){var e={};global.b2link.fs.getDBJSObj__require=function(t,l,i){var r,n=16,a=10,o=-1,b=-1;if(!e[t]){for(var g=STtwUtilFsReadStream.getFile(t).toString("utf8");o=g.indexOf("<require>global."),-1!=o;)if(b=g.indexOf("</require>"),-1!=b){r=b+a;var f=g.slice(o,r),s=g.slice(o+n,b),u=Lib.Ttw.eval(s);if(!u)return global.TtwLog.error(s+" 경로에 문제가 있음."),new Error(s+" 경로에 문제가 있음.");var S=u.toString();g=g.replace(f,S)}var _=global.mongodb.dbjs.getCRUDStatusFromQuery(g,l,i);e[t]={nm_db:l,nm_col:i,q:query,s:_.replace("_","")}}return global._$TATIC_CONST_DEBUG&&SUtilFsWriteStream.writeFile_UTF8(t.replace(".dbjs",".query"),e[t].q),e[t]},global.b2link.fs.getDBJSObj__require.clear=function(){e={}}}(),global.b2link.fs.getDirectoryList=function(e){return STtwUtilFsReadStream.getList_Directory(e)},global.b2link.fs.getFile=function(e){return STtwUtilFsReadStream.getFile(e)},global.b2link.fs.getFile_UTF8=function(e){return STtwUtilFsReadStream.getFile(e).toString("utf8")},global.b2link.fs.getFileList=function(e){return STtwUtilFsReadStream.getList_File(e)},global.b2link.fs.getFileList_Extension=function(e,t){return STtwUtilFsReadStream.getList_File_Extension(e,t)},global.b2link.fs.getIncludeHTML=function(e){var t=global.b2link.fs.getFile_UTF8(e);return global.b2link.html.include(t)},global.b2link.fs.getJS__includeJS=function(e){for(var t,l=12,i=13,r=-1,n=-1,a=STtwUtilFsReadStream.getFile(e).toString("utf8");r=a.indexOf("<include-js>global."),-1!=r;)if(n=a.indexOf("</include-js>"),-1!=n){t=n+i;var o=a.slice(r,t),b=a.slice(r+l,n),g=global.b2link.fs.getFile_UTF8(b);a=a.replace(o,g)}return a},global.b2link.fs.getJSON_UTF8=function(e){return JSON.parse(global.b2link.fs.getFile_UTF8(e))},global.b2link.fs.writeFile=function(e,t,l,i){STtwUtilFsWriteStream.writeFile(e,t,l,i)},global.b2link.fs.writeFile_Binary=function(e,t,l,i){STtwUtilFsWriteStream.writeFile_Binary(e,t,l,i)},global.b2link.fs.writeFile_UTF8=function(e,t,l){STtwUtilFsWriteStream.writeFile_UTF8(e,t,l),l&&l()},global.b2link.fs.writeFile_UTF8__NCallBack=function(e,t){STtwUtilFsWriteStream.writeFile_UTF8(e,t)},global.b2link.fs.writeQuery=function(e,t,l){STtwUtilFsWriteStream.writeFile_UTF8(e,t,l)};global.b2link.html=global.b2link.html||{},global.b2link.html.include=function(l){return STtwUtilNodeHTML.includeHTML(l)};global.b2link["import"]=global.b2link["import"]||{},global.b2link["import"].tll=function(l){global.b2link["import"].tll._(l)},global.b2link["import"].tll._=global.Lib.Ttw.importTll,global.b2link["import"].native_modules__API=function(l,e,o){var t,r=global.REQUIRES.fs.existsSync,i=global.b2link["import"].tll,a=global.process.cwd()+"/",_=l,n=a+"./node_modules/exes/",b=a+"../TtwPlatform-00000--NodeJS/native_modules/",u=a+"../../TtwPlatform-00000--NodeJS/native_modules/",s=a+"../../../TtwPlatform-00000--NodeJS/native_modules/";r(n)&&(t=n),r(b)&&(t=b),r(u)&&(t=u),r(s)&&(t=s);var d=(i(t+_),t+e),m=global.b2link[o].install._;return m.addJSFiles___Define(d,{router:1,router_external:1,router_internal:1}),m.addJSFiles_Package(d,{router:1,router_external:1,router_internal:1}),d},global.b2link["import"].native_modules__API_Router=function(l,e,o){var t=global.b2link.util.import__native_modules__API(l,e,o),r=global.b2link[o].install._;r.addRouter__JSFiles_Services(t+"router/"),r.addRouter__JSFiles_Services(t+"router_external/"),r.addRouter__JSFiles_Services(t+"router_internal/")};global.b2link.ip=global.b2link.ip||{},!function(){var l={1:1,localhost:1,"127.0.0.1":1,"::1":1,"::localhost":1,"::127.0.0.1":1,"::ffff:localhost":1,"::ffff:127.0.0.1":1,"::ffff:1.212.71.98":1,"::ffff:1.212.71.99":0,"222.239.10.115":0,"222.239.10.116":0,"222.239.10.120":1,"222.239.10.121":0,"222.239.10.122":1,"222.239.10.123":1,"222.239.10.124":0,"::ffff:222.239.10.115":0,"::ffff:222.239.10.116":0,"::ffff:222.239.10.120":1,"::ffff:222.239.10.121":0,"::ffff:222.239.10.122":1,"::ffff:222.239.10.123":1,"::ffff:222.239.10.124":0};global.b2link.ip.adminCheckAvailable=function(f){return l.hasOwnProperty(f)?l[f]:0}}(),global.b2link.ip.adminCheckAvailable__http$ClientRequest=function(l,f){try{return global.b2link.ip.adminCheckAvailable(l.client.remoteAddress)}catch(e){global.TtwLog.error("global.b2link.ip.adminCheckAvailable__http$ClientRequest::req.client Error : "+e)}try{return global.b2link.ip.adminCheckAvailable(l.connection.remoteAddress)}catch(e){global.TtwLog.error("global.b2link.ip.adminCheckAvailable__http$ClientRequest::req.connection Error : "+e)}};global.b2link.log=global.b2link.log||{},global.b2link.log.comment_Dash_20=function(){global.TtwLog.timeStamp("//--------------------;")},global.b2link.log.comment_Dash_30=function(){global.TtwLog.timeStamp("//------------------------------;")},global.b2link.log.comment_Dash_40=function(){global.TtwLog.timeStamp("//----------------------------------------;")},global.b2link.log.comment_Dash_50=function(){global.TtwLog.timeStamp("//--------------------------------------------------;")},global.b2link.log.comment_Dash_60=function(){global.TtwLog.timeStamp("//------------------------------------------------------------;")},global.b2link.log.comment_Dash_70=function(){global.TtwLog.timeStamp("//----------------------------------------------------------------------;")},global.b2link.log.comment_Dash_80=function(){global.TtwLog.timeStamp("//--------------------------------------------------------------------------------;")},global.b2link.log.comment_Dash_90=function(){global.TtwLog.timeStamp("//------------------------------------------------------------------------------------------;")},global.b2link.log.comment_Dash_100=function(){global.TtwLog.timeStamp("")};global.b2link.math=global.b2link.math||{};global.b2link.obj=global.b2link.obj||{};global.b2link.os=global.b2link.os||{};global.b2link.process=global.b2link.process||{},!function(){global.REQUIRES||(global.REQUIRES=global.REQUIRES||{}),global.REQUIRES.os||(global.REQUIRES.os=require("os"));var e=global.process,o=100,r=0,s=new Array(o),n=2e3,l=-1,t=e.hrtime(),a=e.cpuUsage(),g=function(){var o=global.REQUIRES.os,s=e.hrtime(t),n=e.cpuUsage(a);t=e.hrtime(),a=e.cpuUsage();var l=1e3*s[0]+s[1]/1e6,g=n.user/1e3,c=n.system/1e3,b=100*(g+c)/l/o.cpus().length;r=b};global.b2link.process.getCPUUsage=function(){return r},global.b2link.process.getCPUUsage.REFRASH_END=function(){global.b2link.common.clearInterval(l)},global.b2link.process.getCPUUsage.REFRASH_START=function(e){l=global.b2link.common.setInterval(g,e)},global.b2link.process.getCPUUsage.REFRASH_START(n),global.b2link.process.getCPUUsage.__defineGetter__("cpu_usage_percents_max_length",function(){return o}),global.b2link.process.getCPUUsage.__defineSetter__("cpu_usage_percents_max_length",function(e){o=e,s.length=0,s=null,s=new Array(e)})}(),!function(){var e=1048576,o=function(o){return Number(o)/e+"Mb"};global.b2link.process.getStatusTotal=function(){var e=global.process,r={};e.CPUPercent=global.b2link.process.getCPUUsage()+"%",e.getIOCounters&&(r.IOCount=e.getIOCounters()),e.memoryUsage&&(r.UsageMemory=e.memoryUsage()),e.getProcessMemoryInfo&&(r.ProcessMemory=e.getProcessMemoryInfo()),e.getSystemMemoryInfo&&(r.SystemMemory=e.getSystemMemoryInfo());var s;s=r.IOCount;for(var n in s)s[n]=o(s[n]);s=r.UsageMemory;for(var n in s)s[n]=o(s[n]);s=r.SystemMemory;for(var n in s)s[n]=o(s[n]);return e.cpus&&(r.OS_CPUs=e.cpus()),r}}();global.b2link.request=global.b2link.request||{},global.b2link.request.get=function(e,l,r){var o=STtwUtilURL.getParseResult(e),t=o.host.split(":"),s={encoding:"utf8",options:{host:t[0],port:t[1],path:o.path,headers:r?r:null},cbFunctions:{end:l,error:global.b2link.request.get._error}};try{STtwUtilHttp.request_GET(s)}catch(n){global.TtwLog.error(n)}},global.b2link.request.get._error=function(e){global.TtwLog.error(e)},global.b2link.request.get__Binary=function(e,l,r){var o=STtwUtilURL.getParseResult(e),t=o.host.split(":"),s={encoding:"binary",options:{host:t[0],port:t[1],path:o.path,headers:r?r:null},cbFunctions:{end:l}};try{STtwUtilHttp.request_GET__Binary(s)}catch(n){global.TtwLog.error(n)}},global.b2link.request.get__Binary._error=function(e){global.TtwLog.error(e)},global.b2link.request.get__member_session$checkSession=function(e,l,r,o){global.b2link.request.get(global.b2link.url.getServerURLByServers("session_server")+"/member/session/check_session?sid="+r.sid,o,e.headers)},global.b2link.request.get__member_session$checkSessionAndReqMongoDB=function(e,l,r,o,t){var s=global.server;global.b2link.request.get(global.b2link.url.getServerURLByServers("session_server")+"/member/session/check_session?sid="+r.sid,function(n){return 0==global.b2link.response.getResultStatus(n)?(global.b2link.response.send_200_False(e,l),void global.b2link_router.STATIC.REQUEST_COUNT.M1()):(r.db=o,r.q=t,global.b2link_router.STATIC.REQUEST_COUNT.P1(),s.req_DB(e,l,r,function(o,t){return o?(global.b2link_router.STATIC.REQUEST_COUNT.M1(),void global.b2link.response.send_200_False__ErrorLog(e,l,r,o)):(global.b2link_router.STATIC.REQUEST_COUNT.M1(),void global.b2link.response.send_200_JSON(e,l,t))}),void global.b2link_router.STATIC.REQUEST_COUNT.M1())},e.headers)};try{!function(){var e=global.b2link.fs.getDBJS("./js__b2link__sessionServer/b2link_router/member/session/check_session.dbjs");global.b2link.request.get__member_session$checkSessionAndReqMongoDB__CallBack=function(l,r,o,t,s,n){var i=global.server,i=global.server;o.db="member",o.q=e.replace("<!=sid=!>",o.sid),i.req_DB(l,r,o,function(e,b){return e?void global.b2link.response.send_200_False(l,r):void(0==b?global.b2link.response.send_301_DestroySession(l,r):1==b&&(o.db=t?t:"admin",o.q=s,i.req_DB(l,r,o,function(e,o){n(l,r,e,o)})))})}}()}catch(e){}global.b2link.request.get__member_session$checkSessionAndReqNameFromsid=function(e,l,r){var o=global.server;global.b2link.request.get(global.b2link.url.getServerURLByServers("session_server")+"/member/session/check_session?sid="+r.sid,function(t){return 0==global.b2link.response.getResultStatus(t)?(global.b2link.response.send_200_False(e,l),void global.b2link_router.STATIC.REQUEST_COUNT.M1()):(r.db="member",r.q='member_session$getProp__idFromsid("'+r.sid+'")',global.b2link_router.STATIC.REQUEST_COUNT.P1(),o.req_DB(e,l,r,function(t,s){return t?(global.b2link_router.STATIC.REQUEST_COUNT.M1(),void global.b2link.response.send_200_False__ErrorLog(e,l,r,t)):(global.b2link_router.STATIC.REQUEST_COUNT.M1(),r.db="member",r.q="member_public$getProp_NameFrom_id("+s+")",global.b2link_router.STATIC.REQUEST_COUNT.P1(),void o.req_DB(e,l,r,function(o,t){return o?(global.b2link_router.STATIC.REQUEST_COUNT.M1(),void global.b2link.response.send_200_False__ErrorLog(e,l,r,o)):(global.b2link_router.STATIC.REQUEST_COUNT.M1(),void global.b2link.response.send_200_JSON(e,l,t))}))}),void global.b2link_router.STATIC.REQUEST_COUNT.M1())},e.headers)},global.b2link.request.get__ReqMongoDB=function(e,l,r,o){var t=global.server;global.b2link_router.STATIC.REQUEST_COUNT.P1(),t.req_DB(e,l,{db:r,q:o},function(r,t){return r?(global.b2link_router.STATIC.REQUEST_COUNT.M1(),global.b2link.response.setHeaders__b2ker(l),void global.b2link.response.send_200_False__ErrorLog(e,l,o,r)):(global.b2link_router.STATIC.REQUEST_COUNT.M1(),global.b2link.response.setHeaders__b2ker(l),void global.b2link.response.send_200_JSON(e,l,t))})},global.b2link.request.getSync=SUtilHttp.getSync,global.b2link.request.post=function(e,l,r,o){var t=STtwUtilURL.getParseResult(e);if(t.protocol&&t.host){var s=t.host.split(":"),n={encoding:"utf8",options:{host:s[0],port:s[1],path:t.path,headers:r?r:null,rejectUnauthorized:!1},cbFunctions:l,data:o};global.b2link_router.STATIC.REQUEST_COUNT.P1(),"https:"==t.protocol?STtwUtilHttps.request_POST(n):STtwUtilHttp.request_POST(n)}},global.b2link.request.postSync__FormData__Object=SUtilHttp.postSync__FormData__Object,global.b2link.request.postSync__FormData__String=SUtilHttp.postSync__FormData__String,global.b2link.request.postSync__JSON__Object=SUtilHttp.postSync__JSON__Object,global.b2link.request.postSync__JSON__String=SUtilHttp.postSync__JSON__String;global.b2link.response=global.b2link.response||{},global.b2link.response.send_200_False=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_False(e,t))},global.b2link.response.send_200_False__ErrorLog=function(e,t,n,s){global.TtwLog.error(n.q+" Error : "+s),t&&(global.b2link.response.setHeaders__b2ker(t),global.b2link.response.send_200_False(e,t))};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_File=function(e,t,n){if(global.TtwLog.timeStamp("req.url : "+e.url),t){var s,l=global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES;n.cbFunction&&t.on("finish",function(e){n.cbFunction(e,n.filePath)});try{s=global.REQUIRES.fs.lstatSync(n.filePath)}catch(o){return void global.b2link.response.send_404(e,t)}if(s.isFile()){t.writeHead(200,{"Content-Type":l[global.REQUIRES.path.extname(n.filePath).split(".").reverse()[0]],"Content-Disposition":"attachment; filename="+encodeURI(n.fileNm)});var r=global.REQUIRES.fs.createReadStream(n.filePath);r.pipe(t)}else s.isDirectory()?(t.writeHead(200,{"Content-Type":l.txt}),t.end()):global.b2link.response.send_500(e,t)}};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_File_NCallback=function(e,t,n){if(global.TtwLog.timeStamp("req.url : "+e.url),t){var s,l=global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES;try{s=global.REQUIRES.fs.lstatSync(n.filePath)}catch(o){return void global.b2link.response.send_404(e,t)}if(s.isFile()){t.writeHead(200,{"Content-Type":l[global.REQUIRES.path.extname(n.filePath).split(".").reverse()[0]],"Content-Disposition":"attachment; filename="+encodeURI(n.fileNm)});var r=global.REQUIRES.fs.createReadStream(n.filePath);r.pipe(t)}else s.isDirectory()?(t.writeHead(200,{"Content-Type":l.txt}),t.end()):global.b2link.response.send_500(e,t)}};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_File_URI=function(e,t,n,s,l){return void global.TtwLog.error("사용금지 - 만약 필요시 협의 바람")};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_File_URI_NCallback=function(e,t,n,s){if(t){var l,o=global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES,r=_path.join(n,unescape(s));try{l=global.REQUIRES.fs.lstatSync(r)}catch(a){return void global.b2link.response.send_404(e,t)}if(l.isFile()){t.writeHead(200,{"Content-Type":global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES[_path.extname(r).split(".").reverse()[0]]});var i=global.REQUIRES.fs.createReadStream(r);i.pipe(t)}else l.isDirectory()?(t.writeHead(200,{"Content-Type":o.txt}),t.end()):global.b2link.response.send_500(e,t)}};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_FileFromURI=function(e,t,n){return void global.TtwLog.error("사용금지 - 만약 필요시 협의 바람")};try{global.REQUIRES=global.REQUIRES||{};var _fs=require("fs"),_path=require("path");global.REQUIRES.__defineGetter__("fs",function(){return _fs}),global.REQUIRES.__defineGetter__("path",function(){return _path})}catch(e){}global.b2link.response.sendStream_200_FileFromURI_NCallback=function(e,t,n){if(t){var s,l=global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES,o=STtwUtilHttpServer.getURIFromURL(e.url),r=_path.join(n,unescape(o));try{s=global.REQUIRES.fs.lstatSync(r)}catch(a){return void global.b2link.response.send_404(e,t)}if(s.isFile()){t.writeHead(200,{"Content-Type":global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES[_path.extname(r).split(".").reverse()[0]]});var i=global.REQUIRES.fs.createReadStream(r);i.pipe(t)}else s.isDirectory()?(t.writeHead(200,{"Content-Type":l.txt}),t.end()):global.b2link.response.send_500(e,t)}},global.b2link.response.send_200_HTML=function(e,t,n){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_String(e,t,n))},global.b2link.response.send_200_JSON=function(e,t,n){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_String(e,t,JSON.stringify(n)))},global.b2link.response.send_200_JSON_Pretty=function(e,t,n){t&&(global.b2link.response.setHeaders__b2ker(t),t.setHeader("Content-Type","application/json; charset=utf-8"),global.server.sendResponse_200_String(e,t,JSON.stringify(n,null,"	")))},global.b2link.response.send_200_String=function(e,t,n){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_String(e,t,n))},global.b2link.response.send_200_String_DestroySessionComplete=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_String(e,t,"destroySessionComplete"))},global.b2link.response.send_200_True=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),global.server.sendResponse_200_True(e,t))},global.b2link.response.send_301_DestroySession=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),t.writeHead(301,{Location:global.b2link_router.STATIC.CONFIG.URL.MEMBER.MEMBER_SESSION.DESTROY_SESSION}),t.end())},global.b2link.response.send_404=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),SUtilHttpServerResponse.responseWrite_404(t))},global.b2link.response.send_500=function(e,t){t&&(global.b2link.response.setHeaders__b2ker(t),SUtilHttpServerResponse.responseWrite_500(t))},global.b2link.response.setHeader__setcookie=function(e,t,n){t&&t.setHeader("set-cookie","connect.sid="+n.sid+"; session_id="+n.sid+"; Expires="+n.d_ex+"; HttpOnly")},global.b2link.response.setHeader__setcookie__null=function(e,t){t&&t.setHeader("set-cookie","connect.sid=; session_id=; Expires=; HttpOnly")},global.b2link.response.setHeaders__b2ker=function(e){e.setHeader("X-Powered-By","B2KER"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept")},global.b2link.response.setHeaders__brandPortal=function(e){e.setHeader("X-Powered-By","B2LiNK-BrandPortal"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept")},global.b2link.response.setHeaders__excelServer=function(e){e.setHeader("X-Powered-By","B2LiNK-ExcelServer"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept")},global.b2link.response.setHeaders__fileServer=function(e){e.setHeader("X-Powered-By","B2LiNK-FileServer"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept")},global.b2link.response.setHeaders__HTML=function(e){e.setHeader("X-Powered-By","B2KER"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept"),e.setHeader("Content-Type","text/html; charset=utf-8")},console,global.b2link.response.setHeaders__JSON=function(e){e.setHeader("X-Powered-By","B2KER"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept"),e.setHeader("Content-Type","application/json; charset=utf-8")},global.b2link.response.setHeaders__Text=function(e){e.setHeader("X-Powered-By","B2KER"),e.setHeader("Access-Control-Allow-Origin","*"),e.setHeader("Access-Control-Allow-Credentials",!0),e.setHeader("Access-Control-Allow-Methods","GET, PUT, POST, DELETE, OPTIONS"),e.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Cache-Control, Content-Type, Content-Length, Authorization, Accept"),e.setHeader("Content-Type","text/plain; charset=utf-8")};global.b2link.router_file=global.b2link.router_file||{};global.b2link.router_resource=global.b2link.router_resource||{};global.b2link.server_http=global.b2link.server_http||{};global.b2link.service=global.b2link.service||{};global.b2link.session=global.b2link.session||{},global.b2link.session.get_or_create__Session=function(e,t,s){var n,i,l=STtwUtilHttpClientRequest.getHeader_Cookie(e),o=0;return l&&(l.hasOwnProperty("connect.sid")&&(i=l["connect.sid"],o=1),l.Expires&&(n=l.expires)),i&&null!=i&&""!=i&&"null"!=i||(i=STtwUtilHttpClientResponse.create_Session(e),o=0),n&&null!=n&&""!=n&&"null"!=n||(n=STtwUtilHttpClientResponse.create_Date__Expired()),{bFirstSession:o,sid:i,d_ex:n}};global.b2link.status=global.b2link.status||{};global.b2link.string=global.b2link.string||{},global.b2link.string.applyBrace=SUtilString.applyBraceStrFromObj__NV_NA,global.b2link.string.applyBrackets=SUtilString.applyBracketsStrFromObj__NV_NA,global.b2link.string.applyParentheses=SUtilString.applyParenthesesStrFromObj__NV_NA;global.b2link.timer=global.b2link.timer||{};global.b2link.uncompressSource=global.b2link.uncompressSource||{},global.Lib.Ttw.autoLoad_JS||(global.Lib.Ttw.autoLoad_JS=new global.Lib.Ttw.CLASS.AutoLoad_JS({instanceKey:"global.Lib.Ttw.autoLoad_JS"})),global.b2link.uncompressSource.install=function(){return global.uncompressSource?void global.TtwLog.warn("Native Module( uncompressSource )가 이미 설치 되어 있다."):(global.b2link["import"].native_modules__API("UnCompressCSSJSHTML.tll","../js-UncompressSource/","uncompressSource"),void(global.uncompressSource=global.Lib.Ttw.unCompressCSSJSHTML))},global.b2link.uncompressSource.install._=global.Lib.Ttw.autoLoad_JS;global.b2link.uri=global.b2link.uri||{},!function(){var n={};global.b2link.uri.decodeURI=function(o){return n.hasOwnProperty(o)||(n[o]=global.decodeURI(o)),n[o]},global.b2link.uri.decodeURI._clear=function(){n={}}}(),!function(){var n={};global.b2link.uri.decodeURIComponent=function(o){return n.hasOwnProperty(o)||(n[o]=global.decodeURIComponent(o)),n[o]},global.b2link.uri.decodeURIComponent._clear=function(){n={}}}(),!function(){var n={};global.b2link.uri.encodeURI=function(o){return n.hasOwnProperty(o)||(n[o]=global.encodeURI(o)),n[o]},global.b2link.uri.encodeURI._clear=function(){n={}}}(),!function(){var n={};global.b2link.uri.encodeURIComponent=function(o){return n.hasOwnProperty(o)||(n[o]=global.encodeURIComponent(o)),n[o]},global.b2link.uri.encodeURIComponent._clear=function(){n={}}}(),global.b2link.uri.getURIFromObject=function(n){var o="";for(var e in n)o+="&"+e+"="+n[e];return o};global.b2link.url=global.b2link.url||{},global.b2link.url.getQueryFromURL=function(r){try{return global.server.getQueryFromURL(r)}catch(e){return SUtilHttpServer.getQueryFromURL(r)}},global.b2link.url.getQueryFromURL_Decode=function(r){r=decodeURIComponent(r);var e=global.server.getQueryFromURL(r);delete e[""];var l=JSON.stringify(e).replace('"":"",',"");return l=l.replace(/!MzU=!/gi,"#").replace(/!Mzg=!/gi,"&").replace(/!MTg3!/gi,"+").replace(/!Mzc=!/gi,"%"),JSON.parse(l)},global.b2link.url.getServerURL_APIServer_SCODE=function(r){return global.b2link.url.getServerURLByServers(r+"_APIServer")},global.b2link.url.getServerURL_APIServer_Self=function(){return global.b2link.url.getServerURLByServers(global.b2link.STATIC.CONFIG.URL.SCODE+"_APIServer")},global.b2link.url.getServerURL_ScrapServer_SCODE=function(r){return global.b2link.url.getServerURLByServers(r+"_ScrapServer")},global.b2link.url.getServerURL_ScrapServer_Self=function(){return global.b2link.url.getServerURLByServers(global.b2link.STATIC.CONFIG.URL.SCODE+"_ScrapServer")},global.b2link.url.getServerURL_WebServer_SCODE=function(r){return global.b2link.url.getServerURLByServers(r+"_WebServer")},global.b2link.url.getServerURL_WebServer_Self=function(){return global.b2link.url.getServerURLByServers(global.b2link.STATIC.CONFIG.URL.SCODE+"_WebServer")};global.b2link.util=global.b2link.util||{};global.b2link.event.webHook=global.b2link.event.webHook||function(){},global.b2link.event.webHook.error=global.b2link.event.webHook.error||{},global.b2link.event.webHook.error.uncaughtException=function(o){var e=global.b2link.STATIC.CONFIG.URL.SCODE+"_WebServer",n=global.b2link.url.getServerURLByServers(e);if(!n)return void global.TtwLog.error("[ ERROR ] - 정보를 전송하기 위한 Host 정보가 없다");if(-1!=n.indexOf("localhost"))return void global.TtwLog.error("[ ERROR ] - Local 개발 환경에서는 WebHook를 전송하지 않는다.");if(!global.fnUseWebHookAPI)return void global.TtwLog.error("[ ERROR ] - global.fnUseWebHookAPI 가 없다.");var r="";r=-1!=n.indexOf(".120")?global.b2link.event.webHook.error.uncaughtException.p120:-1!=n.indexOf(".122")?global.b2link.event.webHook.error.uncaughtException.p122:-1!=n.indexOf(".123")?global.b2link.event.webHook.error.uncaughtException.p123:global.b2link.event.webHook.error.uncaughtException.p123;var b=o.toString();try{"[object Object]"==b&&(b=JSON.stringify(o))}catch(o){}var l={body:"[ "+e+" ] - uncaughtException - "+(new Date).toString(),connectColor:"#FF0000",connectInfo:[{title:"Error Detail",description:b}]};try{global.fnUseWebHookAPI._sendCommon&&global.fnUseWebHookAPI._sendCommon(l,r,"")}catch(t){global.TtwLog.error("[ ERROR ] - global.b2link.event.webHook.error.uncaughtException - global.fnUseWebHookAPI._sendCommon 가 없다."),global.TtwLog.error("[ ERROR ] - "+t)}},global.b2link.event.webHook.error.uncaughtException.p120="/connect-api/webhook/11320800/b0a022c6b896c53da2d2767753228027",global.b2link.event.webHook.error.uncaughtException.p122="/connect-api/webhook/11320800/39051eb2274975f868acf012d10c04b6",global.b2link.event.webHook.error.uncaughtException.p123="/connect-api/webhook/11320800/00c38735fba2d2287f87fe96ab0a166f";global.b2link.array.mergeArrays=function(r){if(global.TtwLog.timeStamp("---- [ S ] - global.b2link.array.mergeArrays():{Array}----------"),0===r.length)return[];for(var a=r[0],l=1;l<r.length;++l)r[l]&&r[l].length>0&&(a=a.concat(r[l]));return global.TtwLog.timeStamp("---- [ E ] - global.b2link.array.mergeArrays():{Array}----------return tmp;"),a};global.b2link.compress_zip.compress_file=function(i){window.TtwLog.timeStamp("---- [ S ] - global.b2link.compress_zip.compress_file():{String}----------"),i.pop&&i.push?_array(i):_object(i),window.TtwLog.timeStamp("---- [ E ] - global.b2link.compress_zip.compress_file():{String}----------")};global.b2link.date.dateFormatter=function(e,t){"string"==typeof e&&(e=new Date(e));var s=e.getFullYear(),o=e.getMonth()+1,r=e.getDate(),a=e.getHours(),n=e.getMinutes(),u=e.getSeconds(),g=e.getMilliseconds(),l=null;return t?"array"==t.toLowerCase()?(l=[],l.push(s),l.push(o),l.push(r),l.push(a),l.push(n),l.push(g)):l="object"==t.toLowerCase()?{y:s,m:o,d:r,ho:a,mi:n,se:u}:"string"==t.toLowerCase()?s+"-"+o+"-"+r:s+"-"+o+"-"+r:l=s+"-"+o+"-"+r,l};global.b2link.date.dateFormatter__Object=function(e){"string"==typeof e&&(e=new Date(e));var t={y:Number(e.getFullYear()),m:Number(e.getMonth()+1),d:Number(e.getDate()),ho:Number(e.getHours()),mi:Number(e.getMinutes()),se:Number(e.getSeconds())};return t};global.b2link.date.getArrayDateFromExcelNumber=function(e){var t=new Date(1899,12,e);if("Invalid Date"===t.toString())return null;var n=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()];return t=null,n};global.b2link.date.getArrayDateFromNewDate=function(){var e=new Date,t=[e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()];return e=null,t};global.b2link.date.getDateStringFromArrayDate_Dash=function(t){return t.join("-")};global.b2link.date.getObjectDateFromExcelNumber=function(e){var t=new Date(1899,12,e);if("Invalid Date"===t.toString())return null;var n={y:t.getFullYear(),m:t.getMonth()+1,d:t.getDate(),ho:t.getHours(),mi:t.getMinutes(),se:t.getSeconds()};return t=null,n};global.b2link.date.getObjectDateFromNewDate=function(){var e=new Date,t={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),ho:e.getHours(),mi:e.getMinutes(),se:e.getSeconds()};return e=null,t};global.b2link.date.getObjectDateFromString=function(t){var e=new Date(t);if("Invalid Date"===e.toString())return null;var n={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),ho:e.getHours(),mi:e.getMinutes(),se:e.getSeconds()};return e=null,n};!function(){var e=function(e){if("object"==e[0])for(var n,t=0,o=e.length;o>t;++t)n=e[t],"object"==typeof n&&i(n)},i=function(e){var i;for(var n in e)if(i=e[n],"price"==n||0==n.indexOf("quantity"),0==n.indexOf("_ids$")){var t;for(var o in i)t=i[o]}else 0==n.indexOf("_id$")||0==n.indexOf("cd$")||"quantity_predict_release"!=n&&0==n.indexOf("quantity_")||0==n.indexOf("total_quantity_")};global.b2link.debug._check_mongodb_queryParameter=function(n){window.TtwLog.timeStamp("---- [ S ] - global.b2link.debug._check_mongodb_queryParameter():void----------"),n.pop&&n.push?e(n):i(n),window.TtwLog.timeStamp("---- [ E ] - global.b2link.debug._check_mongodb_queryParameter():void----------")}}();!function(){var _=global.b2link.event;_.APPENDED_CHILD="appended_child",_.CHANGED_LOCALE="changed_locale",_.CREATED_CUSTOM_ELEMENT="created_custom_element",_.CREATED_EL="created_element",_.CREATED_IMPORT_HTML_EL="created_import-html_element",_.CREATED_IMPORT_HTML_JS="created_import-html_js",_.CREATED_INCLUDE_HTML_EL="created_include-html_element",_.CREATION_COMPLETE="creation_complete",_.DATA_WRITE_CANCEL="data_write_cancel",_.DATA_WRITE_COMPLETE="data_write_complete",_.DISPOSED_EL="disposed_element",_.DISPOSED_JS="disposed_js",_.INTERVAL_END="interval_end",_.INTERVAL_START="interval_start",_.INITIALIZED="initialized",_.INITIALIZED_ALL_CHILDREN="initialized_all_children",_.HIDED_EL="hided_element",_.LIST_DATA_CHANGED="list_data_changed",_.LIST_SELECT_ITEM="list_select_item",_.LIST_SELECTED_ITEM="list_selected_item",_.NAVIGATION_DATA_CHANGED="navigation_data_changed",_.NAVIGATION_ITEM_SELECTED="navigation_item_selected",_.LOADED_CHILDREN="loaded_children",_.REMOVED_CHILD="removed_child",_.RESIZED_EL="resized_element",_.RESPONSE_DATA="response_data",_.REQUEST_DATA="requese_data",_.SEARCH_UI_INPUTED_TEXT="search_ui_inputed_text",_.SEARCH_UI_SELECTED_TYPE="search_ui_selected_type",_.SHOWED_EL="showed_element",_.SIGN_IN_FAILURE="sign_in_failure",_.SIGN_IN_SUCCESS="sign_in_success",_.SIGN_OUT_FAILURE="sign_out_failure",_.SIGN_OUT_SUCCESS="sign_out_success",_.TABLE_DATA_CHANGED="table_data_changed",_.TIMEOUT_END="timeout_end",_.TIMEOUT_START="timeout_start",_.__initialize_Events=function(){global.b2link.log.comment_Dash_100(),global.TtwLog.timeStamp("	B2LiNK Events List"),global.b2link.log.comment_Dash_100();for(var e in _)"function"!=typeof _[e]&&(_[e]="b2link_"+_[e],global.TtwLog.info("global.b2link.event."+e+' - "'+_[e]+'"'));global.b2link.log.comment_Dash_100(),delete _.__initialize_Events}}();global.b2link.obj.check_RequiredValueHasOwnProperty=function(r,e){for(var n=0,o=e.length;o>n;++n)if(!r.hasOwnProperty(e[n]))return 0;return 1};global.b2link.obj.sortJSONObject_key_NumberASC=function(r){var n=[];for(p in r)n.push(p);n.sort(function(r,n){return r-n});for(var o=[],t=0,e=n.length;e>t;++t)o[t]=r[n[t]];return o};global.b2link.obj.sortJSONObject_key_StringASC=function(r){var t=Object.keys(r);t.sort();for(var e=[],n=0,o=t.length;o>n;++n)e[n]=r[t[n]];return e};global.REQUIRES=global.REQUIRES||{},global.REQUIRES.os=global.REQUIRES.os||require("os"),global.b2link.os.__defineGetter__("NAME",function(){var l=global.REQUIRES.os.platform();return l.toUpperCase()});global.b2link.request.get__checkSessionToSessionServer=function(e,l,o,s){global.TtwLog.timeStamp("\n"),global.TtwLog.timeStamp("---- [ S ] - global.b2link.request.get__checkSessionToSessionServer():void----------");global.server;delete e.headers.host,global.b2link.request.get(global.b2link.url.getServerURL_APIServer_SCODE("SYS0010")+"/member/session/check_session?sid="+o+"&SCODE="+global.b2link.STATIC.CONFIG.URL.SCODE,function(o){return 0==global.b2link.response.getResultStatus(o)?(global.b2link.response.send_200_False(e,l),void global.b2link_router.STATIC.REQUEST_COUNT.M1()):(global.b2link_router.STATIC.REQUEST_COUNT.P1(),s(e,l),void global.b2link_router.STATIC.REQUEST_COUNT.M1())},e.headers),global.TtwLog.timeStamp("---- [ E ] - global.b2link.request.get__checkSessionToSessionServer():void----------"),global.TtwLog.timeStamp("\n")};global.b2link.request.get__checkSessionToSessionServer__WebSocket=function(e,o,l){global.TtwLog.timeStamp("\n"),global.TtwLog.timeStamp("---- [ S ] - global.b2link.request.get__checkSessionToSessionServer__WebSocket():void----------");global.server;global.b2link.request.get(global.b2link.url.getServerURL_APIServer_SCODE("SYS0010")+"/member/session/check_session?sid="+o+"&SCODE="+global.b2link.STATIC.CONFIG.URL.SCODE,function(e){l(e)}),global.TtwLog.timeStamp("---- [ E ] - global.b2link.request.get__checkSessionToSessionServer__WebSocket():void----------"),global.TtwLog.timeStamp("\n")};global.b2link.request.get__member_session$checkSessionAndReqMongoDB__CallBack=function(e,l,o,s,n,t){global.TtwLog.timeStamp("\n"),global.TtwLog.timeStamp("---- [ S ] - global.b2link.request.get__member_session$checkSessionAndReqMongoDB__CallBack():void----------");var i=global.server;delete e.headers.host,global.b2link.request.get(global.b2link.url.getServerURL_APIServer_SCODE("SYS0010")+"/member/session/check_session?sid="+o.sid+"&mid="+o.mid+"&SCODE="+o.SCODE,function(a){return 0==global.b2link.response.getResultStatus(a)?(global.b2link.response.send_200_False(e,l),void global.b2link_router.STATIC.REQUEST_COUNT.M1()):(o.db=s,o.q=n,global.b2link_router.STATIC.REQUEST_COUNT.P1(),i.req_DB(e,l,o,function(o,s){t(e,l,o,s)}),void global.b2link_router.STATIC.REQUEST_COUNT.M1())},e.headers),global.TtwLog.timeStamp("---- [ E ] - global.b2link.request.get__member_session$checkSessionAndReqMongoDB__CallBack():void----------"),global.TtwLog.timeStamp("\n")};global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB_QueryObj__CallBack=function(e,o,l,r,n,b){global.TtwLog.timeStamp("\n"),global.TtwLog.timeStamp("---- [ S ] - global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB_QueryObj__CallBack():void----------");var i,s=global.server;if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(n.q,n.nm_db,n.nm_col))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);if("member"!=n.nm_db&&"_authority_matrix"!=n.nm_col){if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(n.q,n.nm_db,n.nm_col))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);i=global.mongodb.dbjs.getCRUDStatusFromQuery(n.q,n.nm_db,n.nm_col)}else{if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(n.q,n.nm_db,n.nm_col))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);i="O"}global.b2link.request.get(global.b2link.url.getServerURL_APIServer_SCODE("SYS0010")+"/member/session/check_sessionAndAuthority?sid="+l.sid+"&SCODE="+l.SCODE+"&queryCRUDStatus="+i+"&nm_db="+n.nm_db+"&nm_col="+n.nm_col+"&mid="+l.mid,function(i){if(0==global.b2link.response.getResultStatus(i)){if(global.b2link_service.STATIC.CONST.RESPONSE_CODE.AUTHENTICATION_FAILED==i){var t={r:i,d:n.nm_db+"."+n.nm_col};return global.b2link.response.send_200_JSON(e,o,t),void global.b2link_router.STATIC.REQUEST_COUNT.M1()}return global.b2link.response.send_200_False(e,o),void global.b2link_router.STATIC.REQUEST_COUNT.M1()}l.db=r,l.q=n.q,global.b2link_router.STATIC.REQUEST_COUNT.P1(),s.req_DB(e,o,l,function(l,r){b(e,o,l,r)}),global.b2link_router.STATIC.REQUEST_COUNT.M1()},e.headers),global.TtwLog.timeStamp("---- [ E ] - global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB_QueryObj__CallBack():void----------"),global.TtwLog.timeStamp("\n")};global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB__CallBack=function(e,o,l,r,s,i){global.TtwLog.timeStamp("\n"),global.TtwLog.timeStamp("---- [ S ] - global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB__CallBack():void----------");var n,t=global.server,b=global.server.getURLParse(e.url),a=b.pathname.split("/"),g=a[1],_=a[2];if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(s,g,_))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);if("member"!=g&&"_authority_matrix"!=_){if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(s,g,_))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);n=global.mongodb.dbjs.getCRUDStatusFromQuery(s,g,_)}else{if(global.mongodb.dbjs.isProhibitedSyntaxFromQuery(s,g,_))return global.TtwLog.error("[ ERROR ] - Query에 금지된 구문이 존재 한다."),void global.b2link.response.send_200_False(e,o);n="O"}global.b2link.request.get(global.b2link.url.getServerURL_APIServer_SCODE("SYS0010")+"/member/session/check_sessionAndAuthority?sid="+l.sid+"&SCODE="+l.SCODE+"&queryCRUDStatus="+n+"&nm_db="+g+"&nm_col="+_+"&mid="+l.mid,function(n){if(0==global.b2link.response.getResultStatus(n)){if(global.b2link_service.STATIC.CONST.RESPONSE_CODE.AUTHENTICATION_FAILED==n){var b={r:n,d:g+"."+_};return global.b2link.response.send_200_JSON(e,o,b),void global.b2link_router.STATIC.REQUEST_COUNT.M1()}return global.b2link.response.send_200_False(e,o),void global.b2link_router.STATIC.REQUEST_COUNT.M1()}l.db=r,l.q=s,global.b2link_router.STATIC.REQUEST_COUNT.P1(),t.req_DB(e,o,l,function(l,r){i(e,o,l,r)}),global.b2link_router.STATIC.REQUEST_COUNT.M1()},e.headers),global.TtwLog.timeStamp("---- [ E ] - global.b2link.request.get__member_session$checkSessionAuthorityAndReqMongoDB__CallBack():void----------"),global.TtwLog.timeStamp("\n")};!function(){var r={0:1,2:0,3:0,18:0},t={0:0,1:1,18:0,"false":0,"true":1,"result.r":function(t){return r[t.r]}};global.b2link.response.getResultStatus=function(r){try{if(t.hasOwnProperty(r)){var e=t[r];return e}if(r.hasOwnProperty("r")&&t.hasOwnProperty("result.r")){var e=t["result.r"](r);return e}if(r.hasOwnProperty("state")){var e=t[r.state];return e}if("string"==typeof r&&-1!=r.indexOf("404 Not Found"))return 0}catch(n){global.TtwLog.error("global.b2link.response.getResultStatus Error : "+n)}return r}}();global.b2link.response.send_404__adminCheckAvailable__http$ClientRequest=function(e,l){global.TtwLog.timeStamp("---- [ S ] - global.b2link.response.send_404__adminCheckAvailable__http$ClientRequest():void----------"),global.TtwLog.error("!!!!!!!!!! Warning !!!!!!!!!!"),global.TtwLog.error("req.url : "+e.url),global.TtwLog.error("IP/Port : "+e.client.remoteAddress+":"+e.client.remotePort),global.TtwLog.error("!!!!!!!!!! Warning !!!!!!!!!!"),global.b2link.response.send_404(e,l),global.TtwLog.timeStamp("---- [ E ] - global.b2link.response.send_404__adminCheckAvailable__http$ClientRequest():void----------")};global.b2link.router_file.download=function(l,e,o,i){global.Rh2Log.timeStamp("---- [ S ] - global.b2link.router_file.download():void----------");var o=global.b2link.url.getQueryFromURL_Decode(l.url);global.b2link.request.get__checkSessionToSessionServer(l,e,o.sid,function(n){if(!global.b2link.response.getResultStatus(n))return void global.b2link.response.send_200_False(l,e);var r=global.REQUIRES.fs.existsSync(i);if(!r)return void global.b2link.response.send_200_False__ErrorLog(l,e,o,"file is not exist.");var s={filePath:i,fileNm:o.fileNm,cbFunction:null};global.b2link.response.sendStream_200_File(l,e,s)}),global.Rh2Log.timeStamp("---- [ E ] - global.b2link.router_file.download():void----------")};try{global.REQUIRE=global.REQUIRE||{};var _fs=require("fs");global.REQUIRE.__defineGetter__("fs",function(){return _fs})}catch(e){}var deleteFile=function(e,l){global.REQUIRES.fs.unlink(l,function(e){global.CSJLog.log("Delete Complete.")})};global.b2link.router_file.downloadAndDelete=function(e,l,o,n){global.Rh2Log.timeStamp("---- [ S ] - global.b2link.router_file.downloadAndDelete():void----------"),global.b2link.request.get__checkSessionToSessionServer(e,l,o.sid,function(i){if(!global.b2link.response.getResultStatus(i))return void global.b2link.response.send_200_False(e,l);var t=global.REQUIRES.fs.existsSync(n);if(!t)return void global.b2link.response.send_200_False__ErrorLog(e,l,o,"file is not exist.");var a={filePath:n,fileNm:o.fileNm,cbFunction:deleteFile};global.b2link.response.sendStream_200_File(e,l,a)}),global.Rh2Log.timeStamp("---- [ E ] - global.b2link.router_file.downloadAndDelete():void----------")};global.b2link.router_file.post_ReceiveData__Base64=function(e,a,o){global.TtwLog.timeStamp("---- [ S ] - global.b2link.router_file.post_ReceiveData__Base64():void----------");var l="";e.on("data",function(e){l+=e}),e.on("end",function(){var t=l.indexOf("base64,");if(-1==t)return global.TtwLog.error("global.b2link.router_file.post_ReceiveData__Base64 Error : base64 문자열이 아니다."),void global.b2link.response.send_200_False(e,a);var i=t+7,r=l.substring(0,i);o(e,a,l,r)}),global.TtwLog.timeStamp("---- [ E ] - global.b2link.router_file.post_ReceiveData__Base64():void----------")};global.b2link.router_file.post_ReceiveData__String=function(t,o,i){global.TtwLog.timeStamp("---- [ S ] - global.b2link.router_file.post_ReceiveData__String():void----------");var e="";t.on("data",function(t){e+=t}),t.on("end",function(){i(t,o,e)}),global.TtwLog.timeStamp("---- [ E ] - global.b2link.router_file.post_ReceiveData__String():void----------")};global.b2link.router_resource._common_FileSend_RootPathAndFilePath=function(o,e,l){global.TtwLog.timeStamp("---- [ S ] - global.b2link.router_resource._common_FileSend_RootPathAndFilePath():void----------");var r=global.b2link.url.getQueryFromURL(o.url);global.b2link.request.get__checkSessionToSessionServer(o,e,r.sid,function(n){return n?void global.b2link.response.sendStream_200_File_URI_NCallback(o,e,l,r.filePath):void global.b2link.response.send_200_False__ErrorLog(o,e,r,error)}),global.TtwLog.log("---- [ E ] - global.b2link.router_resource._common_FileSend_RootPathAndFilePath():void----------")};global.b2link.server_http.globalServer__setMode__Dev__CommonJS_SameJSCSS=function(){global._$TATIC_CONST_DEBUG&&function(){var e=SUtilHttpServer.__evt_request__APIAndFilePath=SUtilHttpServer.evt_request__APIAndFilePath,t=global.process.cwd()+"/../../Development-Browser-Libraries/WebPage/root/",l=(global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.thtml"),global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.tjs"));SUtilHttpServer.evt_request__APIAndFilePath=function(r,s){var a=r.client.address().address.replace("::ffff:",""),o=SUtilHttpServer.getURIFromURL(r.url);if(0==o.indexOf("/js/"))return void global.b2link.response.sendStream_200_File_URI_NCallback(r,s,t,o);if(-1!=o.indexOf("/ui/member/public/forgotPassword")&&global.b2link.response.setHeaders__b2ker(s),".html"!=global.REQUIRES.path.extname(r.url)){if(".js"==global.REQUIRES.path.extname(r.url)&&-1==r.url.indexOf("_index-add-html-befor.js")){var n="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(r.url),i=global.b2link.fs.getFile_UTF8(n);return i=l.replace("<!=JS_SOURCE=!>",i),void global.b2link.response.send_200_String(r,s,i)}return void e(r,s)}var b="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(r.url);if(!global.REQUIRES.fs.existsSync(b))return void e(r,s);var p=global.b2link.fs.getFile_UTF8(b),c=b.replace(".html",".css").replace(".thtml",".css");global.REQUIRES.fs.existsSync(c)&&(p=p.replace(">",'><LINK rel="stylesheet" type="text/css" href="'+c.replace("../WebPage/root/","http://"+a+"/")+'">'));var n=b.replace(".html",".js").replace(".thtml",".js");return global.REQUIRES.fs.existsSync(n)?(p=p+'\n<SCRIPT type="text/javascript" src="http://'+a+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>\n<SCRIPT type="text/javascript" src="'+n.replace("../WebPage/root/","http://"+a+"/")+'" async="false" defer="true"></SCRIPT>\n',void global.b2link.response.send_200_HTML(r,s,p)):(p=p+'\n<SCRIPT type="text/javascript" src="http://'+a+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>',void global.b2link.response.send_200_HTML(r,s,p))}}()};global.b2link.server_http.globalServer__setMode__Dev__CommonTemplate_SameJSCSS=function(){global._$TATIC_CONST_DEBUG&&function(){var e=SUtilHttpServer.__evt_request__APIAndFilePath=SUtilHttpServer.evt_request__APIAndFilePath,t=global.process.cwd()+"/../../Development-Browser-Libraries/WebPage/root/",l=global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.thtml"),r=global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.tjs");SUtilHttpServer.evt_request__APIAndFilePath=function(s,a){var o=s.client.address().address.replace("::ffff:",""),n=SUtilHttpServer.getURIFromURL(s.url);if(0==n.indexOf("/js/"))return void global.b2link.response.sendStream_200_File_URI_NCallback(s,a,t,n);if(-1!=n.indexOf("/ui/member/public/forgotPassword")&&global.b2link.response.setHeaders__b2ker(a),".html"!=global.REQUIRES.path.extname(s.url)){if(".js"==global.REQUIRES.path.extname(s.url)&&-1==s.url.indexOf("_index-add-html-befor.js")){var i="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(s.url),p=global.b2link.fs.getFile_UTF8(i);return p=r.replace("<!=JS_SOURCE=!>",p),void global.b2link.response.send_200_String(s,a,p)}return void e(s,a)}var b="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(s.url);if(!global.REQUIRES.fs.existsSync(b))return void e(s,a);var _=global.b2link.fs.getFile_UTF8(b),c=b.replace(".html",".css").replace(".thtml",".css");global.REQUIRES.fs.existsSync(c)&&(_='<LINK rel="stylesheet" type="text/css" href="'+c.replace("../WebPage/root/","http://"+o+"/")+'">\n'+_),_=l.replace("<!=HTML_CONTENT=!>",_);var i=b.replace(".html",".js").replace(".thtml",".js");return global.REQUIRES.fs.existsSync(i)?(_=_+'\n<SCRIPT type="text/javascript" src="http://'+o+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>\n<SCRIPT type="text/javascript" src="'+i.replace("../WebPage/root/","http://"+o+"/")+'" async="false" defer="true"></SCRIPT>\n',void global.b2link.response.send_200_HTML(s,a,_)):(_=_+'\n<SCRIPT type="text/javascript" src="http://'+o+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>',void global.b2link.response.send_200_HTML(s,a,_))}}()};global.b2link.server_http.globalServer__setMode__Dev__CommonTemplate_SameJSCSS_IncludeHTML=function(){global._$TATIC_CONST_DEBUG&&function(){var e=SUtilHttpServer.__evt_request__APIAndFilePath=SUtilHttpServer.evt_request__APIAndFilePath,t=global.process.cwd()+"/../../Development-Browser-Libraries/WebPage/root/",l=global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.thtml"),r=global.b2link.fs.getFile_UTF8(global.process.cwd()+"/template/index--replace-source.tjs");SUtilHttpServer.evt_request__APIAndFilePath=function(s,a){var o=s.client.address().address.replace("::ffff:",""),n=SUtilHttpServer.getURIFromURL(s.url);if(0==n.indexOf("/js/"))return void global.b2link.response.sendStream_200_File_URI_NCallback(s,a,t,n);if(-1!=n.indexOf("/ui/member/public/forgotPassword")&&global.b2link.response.setHeaders__b2ker(a),".html"!=global.REQUIRES.path.extname(s.url)){if(".js"==global.REQUIRES.path.extname(s.url)&&-1==s.url.indexOf("_index-add-html-befor.js")){var i="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(s.url),_=global.b2link.fs.getFile_UTF8(i);return _=r.replace("<!=JS_SOURCE=!>",_),void global.b2link.response.send_200_String(s,a,_)}return void e(s,a)}var p="../WebPage/root"+STtwUtilHttpServer.getURIFromURL(s.url);if(!global.REQUIRES.fs.existsSync(p))return void e(s,a);var b=global.b2link.fs.getFile_UTF8(p);b=SUtilFsWriteStream_Extension_Dev.create_HTMLFromTemplateHTML(b,"../WebPage/root/");var c=p.replace(".html",".css").replace(".thtml",".css");global.REQUIRES.fs.existsSync(c)&&(b='<LINK rel="stylesheet" type="text/css" href="'+c.replace("../WebPage/root/","http://"+o+"/")+'">\n'+b),b=l.replace("<!=HTML_CONTENT=!>",b);var i=p.replace(".html",".js").replace(".thtml",".js");return global.REQUIRES.fs.existsSync(i)?(b=b+'\n<SCRIPT type="text/javascript" src="http://'+o+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>\n<SCRIPT type="text/javascript" src="'+i.replace("../WebPage/root/","http://"+o+"/")+'" async="false" defer="true"></SCRIPT>\n',void global.b2link.response.send_200_HTML(s,a,b)):(b=b+'\n<SCRIPT type="text/javascript" src="http://'+o+'/js-common/_index-add-html-befor.js" async="false" defer="true"></SCRIPT>',void global.b2link.response.send_200_HTML(s,a,b))}}()};global.b2link.server_http.globalServer__setMode__Dev__FileResCommonPath=function(){global.TtwLog.timeStamp("---- [ S ] - global.b2link.server_http.globalServer__setMode__Dev__FileResCommonPath():void----------"),global._$TATIC_CONST_DEBUG&&function(){var e=SUtilHttpServer.__evt_request__APIAndFilePath=SUtilHttpServer.evt_request__APIAndFilePath,t=global.process.cwd()+"/../../Development-Browser-Libraries/WebPage/root/";SUtilHttpServer.evt_request__APIAndFilePath=function(l,_){var r=SUtilHttpServer.getURIFromURL(l.url);return 0==r.indexOf("/js/")?void global.b2link.response.sendStream_200_File_URI_NCallback(l,_,t,r):void e(l,_)}}(),global.TtwLog.timeStamp("---- [ E ] - global.b2link.server_http.globalServer__setMode__Dev__FileResCommonPath():void----------")};global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES=global._$TATIC_CONST_SERVER_HTTP_MIME_TYPES||{bmp:"image/bmp",css:"text/css",gif:"image/gif",html:"text/html",list:"text/plain",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",json:"text/json",png:"image/png",txt:"text/plain",xml:"text/xml",ttf:"application/x-font-ttf",woff:"application/x-font-woff",woff2:"application/x-font-woff"},global.b2link.server_http.legacyServer__WebServer__Express=function(e){global.TtwLog.timeStamp("---- [ S ] - global.b2link.server_http.legacyServer__WebServer__Express():{http.Server}----------");var t=e;t.getQueryFromURL=SUtilHttpServer.getQueryFromURL,t.sendResponse_200_False=function(e,t){SUtilHttpServer.evt_request__httpServer_200_False(e,t)},t.sendResponse_200_True=function(e,t){SUtilHttpServer.evt_request__httpServer_200_True(e,t)},t.sendResponse_200_String=function(e,t,r){SUtilHttpServer.evt_request__httpServer_200_String(e,t,r)};try{global.b2link.fs.autoLoad_JSs([["JavaScript Import","./js/",{b2link_router:1,b2link_router_external:1,b2link_router_internal:1}]])}catch(r){global.TtwLog.warn(global.process.cwd()+"/js/ 폴더가 존재하지 않는다.")}return global.TtwLog.timeStamp("---- [ E ] - global.b2link.server_http.legacyServer__WebServer__Express():{http.Server}----------return _;"),t};global.b2link.server_http.legacyServer__WebServer__TotalJS=function(e){global.TtwLog.timeStamp("---- [ S ] - global.b2link.server_http.legacyServer__WebServer__TotalJS():{http.Server}----------");var r=e;return r.getQueryFromURL=SUtilHttpServer.getQueryFromURL,r.sendResponse_200_False=function(e,r){SUtilHttpServer.evt_request__httpServer_200_False(e,r)},r.sendResponse_200_True=function(e,r){SUtilHttpServer.evt_request__httpServer_200_True(e,r)},r.sendResponse_200_String=function(e,r,t){SUtilHttpServer.evt_request__httpServer_200_String(e,r,t)},global.b2link.fs.autoLoad_JSs([["JavaScript Import","./js/",{b2link_router:1,b2link_router_external:1,b2link_router_internal:1}]]),global.TtwLog.timeStamp("---- [ E ] - global.b2link.server_http.legacyServer__WebServer__TotalJS():{http.Server}----------return _;"),r};global.b2link.server_http.newServer__WebServer=function(){global.TtwLog.timeStamp("---- [ S ] - global.b2link.server_http.newServer__WebServer():{http.Server}----------");var e=global.Instance.httpServer_API=new global.Lib.Ttw.CLASS.Http.Server.HttpServer_API({instanceKey:"global.Instance.httpServer__API",requestMode:"all"});e.listen(global._$TATIC_CONST_SERVER_HTTP_PORT,null),e.getQueryFromURL=SUtilHttpServer.getQueryFromURL,e.sendResponse_200_False=function(e,t){SUtilHttpServer.evt_request__httpServer_200_False(e,t)},e.sendResponse_200_True=function(e,t){SUtilHttpServer.evt_request__httpServer_200_True(e,t)},e.sendResponse_200_String=function(e,t,r){SUtilHttpServer.evt_request__httpServer_200_String(e,t,r)};try{SUtilFsReadStream.checkWhetherFile("./js/")&&global.b2link.fs.autoLoad_JSs([["JavaScript Import","./js/",{b2link_router:1,b2link_router_external:1,b2link_router_internal:1}]])}catch(t){global.TtwLog.warn("HTTPServer 패키지에 ./js/ 가 존재 하지 않습니다 - 필요시 추가하면 자동 구동됩니다.")}return global.TtwLog.timeStamp("---- [ E ] - global.b2link.server_http.newServer__WebServer():{http.Server}----------return _;"),e};global.b2link.session.getSessionQuery=function(i){var e=i,s="&sid="+e.sid+"&mid="+e.mid+"&d_ex="+e.d_ex+"&SCODE="+e.SCODE;return s};!function(){var o=0,e=-1,n="",l={body:"",connectInfo:[{title:"CPU Percent",description:""},{title:"IOCount",description:""},{title:"UsageMemory",description:""},{title:"ProcessMemory",description:""},{title:"SystemMemory",description:""},{title:"ServerConnections",description:""}]},r=function(){global.b2link.common.clearInterval(e),e=-1};global.b2link.status.send__WebHook__Jandi=function(){try{if(2>global.b2link.process.getCPUUsage())return}catch(e){return}global.b2link.STATIC.CONFIG.URL.SCODE;var t=global.b2link.STATIC.CONFIG.URL.SCODE+"_WebServer",i=global.b2link.url.getServerURLByServers(t);if(!i)return void global.TtwLog.error("[ ERROR ] - 정보를 전송하기 위한 Host 정보가 없다");if(-1!=i.indexOf("localhost"))return global.TtwLog.warn("[ ERROR ] - Local 개발 환경에서는 WebHook를 전송하지 않는다."),void r();if(!global.fnUseWebHookAPI)return global.TtwLog.error("[ ERROR ] - global.fnUseWebHookAPI 가 없다."),void r();var s="";if(-1!=i.indexOf(".120")?s=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__120_PATH:-1!=i.indexOf(".122")?s=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__122_PATH:-1!=i.indexOf(".123")&&(s=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__123_PATH),""==s)return global.TtwLog.error("[ ERROR ] - 120, 122, 123에 상응하는 path 가 없다."),void r();var a=global.b2link.process.getStatusTotal();if("SYS0040"!=global.b2link.STATIC.CONFIG.URL.SCODE)try{a.ServerConns=global.server.server.server.connections}catch(b){global.TtwLog.error("[ ERROR ] - global.b2link.status.send__WebHook__Jandi::r.ServerConns = global.server.server.server.connections; Error : "+b)}try{if(global.fnUseWebHookAPI._sendCommon){var _=l;_.body="[ "+t+" Status ] - "+(new Date).toString(),_.connectInfo[0].description=global.b2link.process.getCPUUsage()+"%",_.connectInfo[1].description=JSON.stringify(a.IOCount,null,"	"),_.connectInfo[2].description=JSON.stringify(a.UsageMemory,null,"	"),_.connectInfo[3].description=JSON.stringify(a.ProcessMemory,null,"	"),_.connectInfo[4].description=JSON.stringify(a.SystemMemory,null,"	"),_.connectInfo[5].description=JSON.stringify({count:a.ServerConns},null,"	");var g=JSON.stringify(l);if(n==g)return;n=g,global.b2link.fs.writeFile_UTF8("./log/status_nodejs - "+global.b2link.date.getStringDate_Dash()+".log",g),global.fnUseWebHookAPI._sendCommon(l,s,""),++o}}catch(e){global.TtwLog.error("[ ERROR ] - global.b2link.status.send__WebHook__Jandi - global.fnUseWebHookAPI._sendCommon 가 없다."),global.TtwLog.error("[ ERROR ] - "+e)}},global.b2link.status.send__WebHook__Jandi.END=r,global.b2link.status.send__WebHook__Jandi.START=function(){global.b2link.common.clearInterval(e),e=global.b2link.common.setInterval(global.b2link.status.send__WebHook__Jandi,3e4)},global.b2link.status.send__WebHook__Jandi.START()}();!function(){var o=-1,e="",n={body:"",connectInfo:[{title:"Sender",description:""},{title:"",description:""}]},l=function(){global.TtwLog.log("[ WARN ] - "+global.b2link.STATIC.CONFIG.URL.SCODE+" MongoDB 상태 조회 종료 - "+o),global.b2link.common.clearInterval(o),o=-1};global.b2link.status.send__WebHook__Jandi_MongoDB=function(){var o=global.b2link.STATIC.CONFIG.URL;if(!o.SCODE)return global.JkLog.warn("[ WARN ] - SCODE가 없음"),void l();if("SYS0050"==o.SCODE)return global.JkLog.warn("[ WARN ] - SYS0050은 지원하지 않음."),void l();var e=global.b2link.url.getServerURL_APIServer_Self();if(!e)return global.JkLog.error("[ ERROR ] - 정보를 전송하기 위한 Host 정보가 없다"),void l();if(-1!=e.indexOf("localhost"))return global.JkLog.warn("[ ERROR ] - Local 개발 환경에서는 WebHook를 전송하지 않는다."),void l();if(!global.fnUseWebHookAPI)return global.JkLog.error("[ ERROR ] - global.fnUseWebHookAPI 가 없다."),void l();var t="";if(-1!=e.indexOf(".120")?t=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__120_PATH:-1!=e.indexOf(".122")?t=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__122_PATH:-1!=e.indexOf(".123")?t=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__123_PATH:-1!=e.indexOf(".126")&&(t=global._$TATIC_CONST_WEBHOOK_SERVER_STATUS__JANDI__120_PATH),""===t)return global.JkLog.error("[ ERROR ] - 120, 122, 123에 상응하는 path 가 없다."),void l();var r=e+"/_mongodb/status/isAlive";global.b2link.request.get(r,function(l){if(!global.b2link.response.getResultStatus(l)){var r=global.server.server.server.address();return n.body="[ "+o.SCODE+"_MongoDB isAlive ]",n.connectInfo[0].description=r.address+r.port,n.connectInfo[1].description=o.SCODE+" MongoDB 연결 실패",void global.fnUseWebHookAPI._sendCommon(n,t,"")}global.b2link.status.send__WebHook__Jandi_MongoDB.status(o.SCODE,e,t)})},global.b2link.status.send__WebHook__Jandi_MongoDB.status=function(o,t,r){var i=t+"/_mongodb/status/serverStatusMin";global.b2link.request.get(i,function(t){if(-1!=t.indexOf("Bad Request")||-1!=t.indexOf("Error"))return global.JkLog.error("[ ERROR ] - B2Ker Framework 기반의 HTTP APIServer가 아닌 서버"),void l();if(-1!=t.indexOf("404 Not Found"))return global.JkLog.error("[ ERROR ] - MongoDB 연계가 아닌 서버의 처리"),void l();var i=JSON.parse(t),a=0;i.connections.percent=100*i.connections.current/(i.connections.current+i.connections.available);var s=n.connectInfo;if(s[1].title="",(i.mem.virtual>3e3||i.mem.resident>2500)&&(s[1].title+="[ 메모리 문제 ]",a=1),(i.globalLock.activeClients.readers>20||i.globalLock.activeClients.writers>20)&&(s[1].title+="[ 사용자 수 문제 ]",a=1),i.connections.percent>90&&(s[1].title+="[ 접속률 문제 ]",a=1,i.connections.percent+="%"),(i.asserts.regular>0||i.asserts.warning>0||i.asserts.msg>0||i.asserts.user>0)&&(s[1].title+="[ 쿼리 문제 ]",a=1),a){var _=global.server.server.address();n.body="[ "+o+"_MongoDB Status ]",n.connectInfo[0].description=_.address+_.port,n.connectInfo[1].description=JSON.stringify(i,null,"	"),delete i.connections,delete i.extra_info,delete i.globalLock,delete i.mem.resident,delete i.wiredTiger.cache;var g=JSON.stringify(i);if(e==g)return;e=g,global.b2link.fs.writeFile_UTF8("./log/status_mongodb - "+global.b2link.date.getStringDate_Dash()+".log",g),global.fnUseWebHookAPI._sendCommon(n,r,"")}})},global.b2link.status.send__WebHook__Jandi_MongoDB.END=l,global.b2link.status.send__WebHook__Jandi_MongoDB.START=function(){global.b2link.common.clearInterval(o),o=global.b2link.common.setInterval(global.b2link.status.send__WebHook__Jandi_MongoDB,3e4)}}();global.b2link.uri.getURIReplaceSharp=function(e){return e.replace(/#/gi,"!MzU=!").replace(/&/gi,"!Mzg=!").replace(/\+/gi,"!MTg3!")};global.b2link.uri.getURIReplaceSharp__JSON=function(e){return JSON.stringify(e).replace(/#/gi,"!MzU=!").replace(/&/gi,"!Mzg=!").replace(/\+/gi,"!MTg3!")};!function(){var t,o,l={},h={},e={SYS0010_APIServer:["http://localhost:30000","http://localhost:30000","http://localhost:30000"],session_server:["http://localhost:30000","http://localhost:30000","http://localhost:30000"],SYS0010_WebServer:["http://localhost:33333","http://localhost:33333","http://localhost:33333"],SYS0011_APIServer:["http://localhost:31000","http://localhost:31000","http://localhost:31000"],SYS0011_WebServer:["http://localhost:31333","http://localhost:31333","http://localhost:31333"],SYS0015_APIServer:["http://localhost:49324","http://localhost:49324","http://localhost:49324"],SYS0015_WebServer:["http://localhost:49323","http://localhost:49323","http://localhost:49323"],SYS0040_APIServer:["http://localhost:49322","http://localhost:49322"],file_server:["http://localhost:49322","http://localhost:49322"],SYS0050_APIServer:["https://api.b2link.co.kr/b2ker/webhook/router","https://api.b2link.co.kr/b2ker/webhook/router"],webhook_server:["https://api.b2link.co.kr/b2ker/webhook/router","https://api.b2link.co.kr/b2ker/webhook/router"],SYS0060_APIServer:["https://api.b2link.co.kr/b2ker/message/router","https://api.b2link.co.kr/b2ker/message/router"],SYS0070_APIServer:["http://localhost:48320","http://localhost:48320"],excel_server:["http://localhost:48320","http://localhost:48320"],SYS0070_WebServer:["http://localhost:48321","http://localhost:48321"],excel_web_server:["http://localhost:48321","http://localhost:48321"],SYS0120_APIServer:["http://localhost:49520","http://localhost:49520"],SYS0120_WebServer:["http://localhost:49521","http://localhost:49521"],SYS0130_APIServer:["http://localhost:44520","http://localhost:44520"],SYS0130_WebServer:["http://localhost:44521","http://localhost:44521"],SYS0020_APIServer:["http://localhost:49320","http://localhost:49320"],b2ker_api_server:["http://localhost:49320","http://localhost:49320"],SYS0020_WebServer:["http://localhost:49321","http://localhost:49321"],SYS0030_APIServer:["http://localhost:45320","http://localhost:45320"],api_server:["http://localhost:45320","http://localhost:45320"],SYS0030_WebServer:["http://localhost:45321","http://localhost:45321"],SYS0030_WebServer_Domain:["http://localhost:45321","http://localhost:45321"],SYS0031_APIServer:["http://localhost:45420","http://localhost:45420"],SYS0031_WebServer:["http://localhost:45421","http://localhost:45421"],SYS0034_APIServer:["http://localhost:45324","http://localhost:45324"],SYS0034_WebServer:["http://localhost:45322","http://localhost:45322"],SYS0035_APIServer:["http://localhost:45325","http://localhost:45325"],SYS0035_WebServer:["http://localhost:45326","http://localhost:45326"],SYS0037_APIServer:["http://localhost:45528","http://localhost:45528"],SYS0037_WebServer:["http://localhost:45527","http://localhost:45527"],SYS0100_APIServer:["http://localhost:44320","http://localhost:44320"],SYS0100_WebServer:["http://localhost:44321","http://localhost:44321"],SYS0210_APIServer:["http://localhost:42320","http://localhost:42320"],SYS0210_WebServer:["http://localhost:42321","http://localhost:42321"],SYS0215_APIServer:["http://localhost:42325","http://localhost:42325"],SYS0215_WebServer:["http://localhost:42326","http://localhost:42326"],SYS0032_APIServer:["http://localhost:45323","http://localhost:45323"],SYS0033_APIServer:["http://localhost:45520","http://localhost:45520"],SYS0033_WebServer:["http://localhost:45521","http://localhost:45521"],SYS0110_APIServer:["http://localhost:43320","http://localhost:43320"],SYS0110_WebServer:["http://localhost:43321","http://localhost:43321"],SYS4110_APIServer:["http://localhost:40320","http://localhost:40320"],SYS4110_WebServer:["http://localhost:40320","http://localhost:40320"],SYS4111_APIServer:["http://localhost:40321","http://localhost:40321"],SYS4111_WebServer:["http://localhost:40321","http://localhost:40321"],SYS4112_APIServer:["http://localhost:40322","http://localhost:40322"],SYS4112_WebServer:["http://localhost:40322","http://localhost:40322"],SYS4113_APIServer:["http://localhost:40323","http://localhost:40323"],SYS4113_WebServer:["http://localhost:40323","http://localhost:40323"],SYS4120_APIServer:["http://localhost:40330","http://localhost:40330"],SYS4120_WebServer:["http://localhost:40330","http://localhost:40330"],SYS4130_APIServer:["http://localhost:40340","http://localhost:40340"],SYS4130_WebServer:["http://localhost:40340","http://localhost:40340"],SYS4135_APIServer:["http://localhost:40345","http://localhost:40345"],SYS4135_WebServer:["http://localhost:40345","http://localhost:40345"]};for(var S in e)t=e[S],o=t.length,h[S]=o,l[S]=SUtilMath.random(0,o,0);global.b2link.url.getServerURLByServers=function(t){!e[t];var o;return h[t]>l[t]?(o=e[t][l[t]],++l[t]):(l[t]=0,o=e[t][l[t]]),o}}();global.b2link.util.isNull=function(l){return void 0==typeof l||"undefined"==l||null==l||""==l||NaN==l?!0:!1};global.b2link.util.isUndefined=function(n){return void 0==typeof n||"undefined"==n||null==n||NaN==n?!0:!1};